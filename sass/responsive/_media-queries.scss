@use '../abstracts/functions' as f;


/* ----------- Desktop (769px+) ----------- */
@media (min-width: 769px) {
  /* Desktop: navegación horizontal completa */
  .craftivity-nav {
    display: flex;
    align-items: center;
    gap: 2rem;
  }

  .menu-toggle {
    display: none;
  }

  .header-actions {
    display: flex;
  }
}

/* ----------- Tablets y Móviles (max-width: 768px) ----------- */
@media (max-width: 768px) {
  .header-container {
    flex-wrap: wrap;
    padding: 1rem;
    position: relative;
  }

  /* Navegación mobile - ocultar por defecto */
  .craftivity-nav {
    position: absolute;
    top: 100%;
    left: 0;
    right: 0;
    background-color: f.color(base-bg);
    box-shadow: 0 4px 15px f.color(overlay);
    flex-direction: column;
    gap: 0;
    padding: 1rem;
    border-radius: 0 0 15px 15px;
    display: none;
    z-index: 1000;
  }

  .craftivity-nav.show {
    display: flex !important;
  }

  .craftivity-nav.show li,
  .craftivity-nav li {
    width: 100%;
    margin: 0.5rem 0;
    display: flex !important; /* Forzar flex para que funcione order */
    flex-direction: column !important;
  }

  .craftivity-nav.show li:nth-child(2),
  .craftivity-nav li:nth-child(2) {
    /* nav-search - ponerla primera */
    order: 1 !important;
    margin-bottom: 1rem;
    border-bottom: 1px solid f.color(light);
    padding-bottom: 1rem;
  }

  .craftivity-nav.show li:nth-child(1),
  .craftivity-nav li:nth-child(1) {
    /* nav-links - ponerla segunda */
    order: 2 !important;
  }

  .craftivity-nav.show li:nth-child(3),
  .craftivity-nav li:nth-child(3) {
    /* nav-actions - ponerla tercera */
    order: 3 !important;
    margin-top: 1rem;
    border-top: 1px solid f.color(light);
    padding-top: 1rem;
  }

  /* Configurar los contenidos internos */
  .nav-links {
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
  }

  .nav-actions {
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
  }

  /* Ajustar el search-bar para móvil */
  .nav-search .search-bar {
    min-width: auto;
    width: 100%;
    margin: 0;
  }

  /* Ajustar los enlaces en móvil */
  .nav-links a {
    display: block;
    padding: 1rem;
    border-radius: 8px;
    margin-bottom: 0.5rem;
    text-align: center;
    width: 100%;
  }

  .nav-links a:hover {
    background-color: f.color(light);
    transform: none;
  }

  /* Ajustar los botones en móvil */
  .nav-actions .btn {
    display: block;
    margin: 0.5rem 0;
    text-align: center;
  }

  /* Header actions en móvil - ocultar para evitar duplicación */
  .header-actions {
    display: none;
  }

  .menu-toggle {
    display: flex;
    order: 3;
    margin-left: auto;
  }

  /* Animación del menú hamburguesa */
  .menu-toggle.active span:nth-child(1) {
    transform: rotate(-45deg) translate(-6px, 6px);
  }

  .menu-toggle.active span:nth-child(2) {
    opacity: 0;
  }

  .menu-toggle.active span:nth-child(3) {
    transform: rotate(45deg) translate(-6px, -6px);
  }

  .logo {
    order: 1;
  }

  .hero h1 {
    font-size: 2rem;
  }

  .hero p {
    font-size: 1rem;
  }

  .products-header {
    flex-direction: column;
    gap: 1rem;
    align-items: flex-start;
  }

  .sort-filter {
    flex-wrap: wrap;
  }

  .products-grid {
    grid-template-columns: 1fr;
  }

  /* Vista de lista responsiva */
  .products-list .product-card {
    flex-direction: column;
    text-align: center;
  }

  .products-list .product-card img {
    width: 100px;
    height: 100px;
    margin-right: 0;
    margin-bottom: 1rem;
  }

  .products-list .product-content {
    height: auto;
  }

  .products-list .product-footer {
    flex-direction: column;
    gap: 1rem;
  }

  main {
    padding: 1rem;
  }

  .login-form {
    padding: 2rem 1.5rem;
    margin: 1rem;
  }
}

/* ----------- Móviles pequeños (max-width: 480px) ----------- */
@media (max-width: 480px) {
  .craftivity-nav {
    flex-direction: column;
    text-align: center;
  }

  .hero {
    padding: 2rem 1rem;
  }

  .hero h1 {
    font-size: 1.5rem;
  }

  .btn {
    padding: 0.5rem 1rem;
    font-size: 0.9rem;
  }
}

/* Loading states */
.loading {
  text-align: center;
  padding: 2rem;
  color: f.color(medium);
  display: none; /* Oculto por defecto */
}

/* Error states */
.error:not(input):not(select):not(textarea) {
  text-align: center;
  padding: 2rem;
  color: f.color(danger);
  display: none; /* Oculto por defecto */
}

/* Elemento de no resultados */
#noResults {
  display: none; /* Oculto por defecto */
}

/* Estados de display para elementos dinámicos */
.show {
  display: block !important;
}

.hide {
  display: none !important;
}


.features-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
  gap: 2rem;
  margin-top: 2rem;
}

.feature {
  background: white;
  padding: 2rem;
  border-radius: 15px;
  box-shadow: 0 5px 20px f.color(overlay);
  text-align: center;
}

.feature h3 {
  color: f.color(primary);
  margin-bottom: 1rem;
  font-size: 1.5rem;
}

.about-section {
  margin: 4rem 0;
}

.about-section h2 {
  text-align: center;
  color: f.color(secondary);
  margin-bottom: 2rem;
  font-size: 2.5rem;
}

.newsletter-form {
  display: flex;
  gap: 0.5rem;
  margin-top: 1rem;
}

.newsletter-form input {
  flex: 1;
  padding: 0.75rem;
  border: 2px solid f.color(light);
  border-radius: 8px;
  font-size: 1rem;
}

.newsletter-form input:focus {
  outline: none;
  border-color: f.color(primary);
}

.newsletter-form button {
  padding: 0.75rem 1.5rem;
  white-space: nowrap;
}

/* Media query para newsletter responsive - botón debajo del input en móviles */
@media (max-width: 735px) {
  .newsletter-form {
    flex-direction: column;
    gap: 0.75rem;
  }

  .newsletter-form button {
    width: 100%;
    text-align: center;
  }
}

/* Placeholder para imágenes */
.product-image[src=""],
.product-image:not([src]),
.cart-item-image[src=""],
.cart-item-image:not([src]) {
  background: linear-gradient(45deg, f.color(light) 25%, transparent 25%),
    linear-gradient(-45deg, f.color(light) 25%, transparent 25%),
    linear-gradient(45deg, transparent 75%, f.color(light) 75%),
    linear-gradient(-45deg, transparent 75%, f.color(light) 75%);
  background-size: 20px 20px;
  background-position: 0 0, 0 10px, 10px -10px, -10px 0px;
  background-color: f.color(medium);
  display: flex;
  align-items: center;
  justify-content: center;
  color: f.color(base-bg);
  font-weight: bold;
}

.product-image[src=""]:before,
.product-image:not([src]):before {
  content: "📦";
  font-size: 3rem;
}

/* Estilos específicos para secciones de la página principal */
.featured-categories {
  margin: 3rem 0;
}

.featured-categories h2 {
  text-align: center;
  color: f.color(secondary);
  margin-bottom: 2rem;
  font-size: 2.5rem;
}

/* Sección de ofertas especiales */
.offers-section {
  margin: 4rem 0;
  background: linear-gradient(135deg, #fff5f5, #fef7e7);
  padding: 3rem 2rem;
  border-radius: 20px;
}

.offers-section h2 {
  text-align: center;
  color: f.color(secondary);
  margin-bottom: 1rem;
  font-size: 2.5rem;
}

/* Tarjetas de ofertas */
.offer-card {
  position: relative;
  border: 2px solid f.color(accent);
}

.offer-card:hover {
  transform: translateY(-8px);
  box-shadow: 0 15px 40px rgba(0, 0, 0, 0.2);
}

/* Badge de descuento */
.offer-badge {
  position: absolute;
  top: 15px;
  right: 15px;
  background: f.color(danger);
  color: white;
  padding: 0.5rem 1rem;
  border-radius: 20px;
  font-weight: bold;
  font-size: 0.9rem;
  z-index: 10;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
}
