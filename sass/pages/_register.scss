// ===========================================================================
// CRAFTIVITY - REGISTER
// Estilos de la página de registro
// ===========================================================================

@use "../abstracts/variables" as v;
@use "sass:map";

// Contenedor principal de registro
.register-container {
  display: flex;
  justify-content: center;
  align-items: center;
  min-height: 85vh;
  padding: map.get(v.$spaces, "xl") map.get(v.$spaces, "md");
}

// Formulario de registro
.register-form {
  background-color: var(--card-bg);
  padding: map.get(v.$spaces, "3xl");
  border-radius: map.get(v.$radius, "xl");
  box-shadow: var(--shadow-lg);
  border: 1px solid var(--card-border);
  width: 100%;
  max-width: 550px;
  text-align: center;
  transition: background-color 0.3s ease, border-color 0.3s ease;

  h2 {
    color: var(--brand-primary);
    margin-bottom: map.get(v.$spaces, "md");
    font-size: map.get(v.$font-sizes, "2xl");
    font-weight: map.get(v.$font-weights, "bold");
  }

  .form-subtitle {
    color: var(--text-secondary);
    margin-bottom: map.get(v.$spaces, "2xl");
    font-size: map.get(v.$font-sizes, "sm");
    font-weight: map.get(v.$font-weights, "regular");
  }

  // Sección de avatar upload
  .avatar-upload-container {
    display: flex;
    flex-direction: column;
    align-items: center;
    margin-bottom: map.get(v.$spaces, "2xl");

    .avatar-preview {
      width: 140px;
      height: 140px;
      border-radius: 50%;
      border: 3px solid var(--brand-primary);
      background: var(--bg-info);
      display: flex;
      align-items: center;
      justify-content: center;
      overflow: hidden;
      margin-bottom: map.get(v.$spaces, "md");
      position: relative;
      transition: transform 0.3s ease, border-color 0.3s ease;

      &:hover {
        transform: scale(1.05);
        border-color: var(--brand-primary-dark);
      }

      i {
        font-size: 3.5rem;
        color: var(--text-tertiary);
      }

      img {
        width: 100%;
        height: 100%;
        object-fit: cover;
      }
    }

    .btn-upload-avatar {
      display: inline-flex;
      align-items: center;
      gap: map.get(v.$spaces, "sm");
      padding: map.get(v.$spaces, "sm") map.get(v.$spaces, "lg");
      background: var(--brand-primary);
      color: var(--text-inverse);
      border-radius: map.get(v.$radius, "md");
      cursor: pointer;
      transition: background 0.3s ease, transform 0.2s ease;
      font-size: map.get(v.$font-sizes, "sm");
      font-weight: map.get(v.$font-weights, "semibold");
      border: none;

      &:hover {
        background: var(--brand-primary-dark);
        transform: translateY(-2px);
      }

      i {
        font-size: map.get(v.$font-sizes, "md");
      }
    }

    .help-text {
      color: var(--text-tertiary);
      font-size: map.get(v.$font-sizes, "xs");
      margin-top: map.get(v.$spaces, "xs");
    }
  }

  // Grupos de formulario
  .form-group {
    margin-bottom: map.get(v.$spaces, "lg");
    text-align: left;

    label {
      display: block;
      color: var(--text-primary);
      font-weight: map.get(v.$font-weights, "semibold");
      margin-bottom: map.get(v.$spaces, "xs");
      font-size: map.get(v.$font-sizes, "sm");

      i {
        color: var(--brand-primary);
        margin-right: map.get(v.$spaces, "xs");
      }
    }

    input[type="text"],
    input[type="email"],
    input[type="password"] {
      width: 100%;
      padding: map.get(v.$spaces, "md");
      border: 1px solid var(--input-border);
      border-radius: map.get(v.$radius, "md");
      font-size: map.get(v.$font-sizes, "md");
      background: var(--input-bg);
      color: var(--text-primary);
      transition: border-color 0.15s ease-in-out, background-color 0.3s ease,
        box-shadow 0.15s ease;
      font-weight: map.get(v.$font-weights, "medium");

      &:focus {
        outline: none;
        border-color: var(--input-border-focus);
        background-color: var(--input-bg);
        box-shadow: 0 0 0 0.2rem rgba(230, 126, 34, 0.25);
      }

      &::placeholder {
        color: var(--input-placeholder);
        opacity: 0.7;
      }
    }

    // Feedback de validación
    .invalid-feedback {
      color: var(--danger);
      font-size: map.get(v.$font-sizes, "xs");
      margin-top: map.get(v.$spaces, "xs");
      font-weight: map.get(v.$font-weights, "medium");
    }

    .form-text {
      color: var(--text-tertiary);
      font-size: map.get(v.$font-sizes, "xs");
      margin-top: map.get(v.$spaces, "xs");
    }
  }

  // Fila con dos columnas (nombre y apellido)
  .form-row {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: map.get(v.$spaces, "md");
    margin-bottom: map.get(v.$spaces, "lg");

    .form-group {
      margin-bottom: 0;
    }
  }

  // Contenedor de password con toggle
  .password-container {
    position: relative;

    input {
      padding-right: 3rem;
    }

    .toggle-password {
      position: absolute;
      right: map.get(v.$spaces, "md");
      top: 50%;
      transform: translateY(-50%);
      background: none;
      border: none;
      color: var(--text-tertiary);
      cursor: pointer;
      padding: map.get(v.$spaces, "xs");
      transition: color 0.2s ease;

      &:hover {
        color: var(--brand-primary);
      }

      i {
        font-size: map.get(v.$font-sizes, "md");
      }
    }
  }

  // Indicador de fortaleza de contraseña
  .password-strength {
    margin-top: map.get(v.$spaces, "xs");
    font-size: map.get(v.$font-sizes, "xs");
    font-weight: map.get(v.$font-weights, "semibold");
    transition: color 0.3s ease;

    &.very-weak {
      color: #dc2626;
    }

    &.weak {
      color: #ea580c;
    }

    &.fair {
      color: #eab308;
    }

    &.good {
      color: #65a30d;
    }

    &.strong {
      color: #16a34a;
    }
  }

  // Botón principal de registro
  .btn-primary {
    width: 100%;
    padding: map.get(v.$spaces, "md") map.get(v.$spaces, "xl");
    background: var(--brand-primary);
    color: var(--text-inverse);
    border: none;
    border-radius: map.get(v.$radius, "md");
    font-size: map.get(v.$font-sizes, "md");
    font-weight: map.get(v.$font-weights, "semibold");
    cursor: pointer;
    transition: background 0.3s ease, transform 0.2s ease;
    margin-top: map.get(v.$spaces, "lg");

    &:hover:not(:disabled) {
      background: var(--brand-primary-dark);
      transform: translateY(-2px);
      box-shadow: var(--shadow-glow);
    }

    &:active:not(:disabled) {
      transform: translateY(0);
    }

    &:disabled {
      opacity: 0.6;
      cursor: not-allowed;
    }

    i {
      margin-right: map.get(v.$spaces, "sm");
    }
  }

  // Footer del formulario
  .form-footer {
    margin-top: map.get(v.$spaces, "xl");
    text-align: center;

    p {
      color: var(--text-secondary);
      margin: 0;
      font-size: map.get(v.$font-sizes, "sm");
    }

    .link-primary {
      color: var(--brand-primary);
      font-weight: map.get(v.$font-weights, "semibold");
      text-decoration: none;
      transition: color 0.2s ease;

      &:hover {
        color: var(--brand-primary-dark);
        text-decoration: underline;
      }
    }
  }
}

// === Responsive Design ===
@media (max-width: 768px) {
  .register-container {
    padding: map.get(v.$spaces, "lg") map.get(v.$spaces, "sm");
  }

  .register-form {
    padding: map.get(v.$spaces, "2xl") map.get(v.$spaces, "lg");
    max-width: 100%;

    h2 {
      font-size: map.get(v.$font-sizes, "xl");
    }

    .avatar-upload-container .avatar-preview {
      width: 120px;
      height: 120px;

      i {
        font-size: 3rem;
      }
    }

    .form-row {
      grid-template-columns: 1fr;
      gap: 0;

      .form-group {
        margin-bottom: map.get(v.$spaces, "lg");
      }
    }
  }
}
